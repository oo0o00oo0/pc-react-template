<!DOCTYPE html>
<html lang="en">
  <head>
    <title>SuperSplat Viewer</title>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <base href="" />
    <link rel="stylesheet" href="./index.css" />
    <script type="importmap">
      {
        "imports": {
          "playcanvas": "./pc/playcanvas.mjs",
          "observer": "./pc/observer.mjs"
        }
      }
    </script>
    <script type="module" src="./pc/pwc.mjs"></script>
  </head>

  <body>
    <pc-app
      depth="true"
      antialias="false"
      high-resolution="true"
      stencil="false"
    >
      <pc-asset src="./camera/camera-controls.mjs"></pc-asset>
      <pc-asset src="./camera/shape-picker.mjs"></pc-asset>

      <pc-asset
        id="ply"
        type="gsplat"
        lazy
        src="./colmap-adc-60k-2sh.compressed.ply"
      ></pc-asset>

      <pc-asset src="./models/test-0.glb" id="overlays"></pc-asset>
      <pc-asset src="./models/occusion.glb" id="occlusion"></pc-asset>

      <pc-scene>
        <pc-entity name="camera root">
          <pc-entity name="camera">
            <pc-camera
              near-clip="10"
              far-clip="10000"
              horizontal-fov="true"
              tonemap="none"
            ></pc-camera>
            <pc-scripts>
              <pc-script name="cameraControls"></pc-script>
            </pc-scripts>

            <pc-scripts>
              <pc-script name="shapePicker"></pc-script>
            </pc-scripts>
          </pc-entity>
        </pc-entity>

        <pc-entity scale="10 10 10" occlusion>
          <pc-model asset="occlusion"></pc-model>
        </pc-entity>

        <pc-entity scale="10 10 10" solid>
          <pc-model asset="overlays"> </pc-model>
        </pc-entity>

        <!-- Splat -->

        <pc-entity name="splat">
          <pc-splat asset="ply"></pc-splat>
        </pc-entity>
      </pc-scene>
    </pc-app>

    <script type="module" src="./index.js"></script>
  </body>
</html>
